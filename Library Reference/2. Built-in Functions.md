# Built-in Functions

[TOC]

## a

### abs

`abs(x)` 

è¿”å›ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼ã€‚
å¦‚æœå®å‚(argument)æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œåˆ™ä¼šè¿”å›å…¶ç»å¯¹å€¼ã€‚
å¦‚æœå®å‚æ˜¯å¤æ•°(complex number)ï¼Œåˆ™ä¼šè¿”å›å¤æ•°çš„æ¨¡(magnitude)

```python
>>> abs(-3)
3
>>> abs(-3.4)
3.4
>>> abs(3+4j)
5.0
```

### all

`all(iterable)` 

å¦‚ä¸‹ä»£ç ä¸è¯¥å†…ç½®å‡½æ•°ç­‰æ•ˆï¼š

```python
def all(iterable):
    for element in iterable:
        if not element:
            return False
    return True
```

å¯è§ï¼Œå¦‚æœå¯è¿­ä»£(iterable)å¯¹è±¡ä¸­æ‰€æœ‰å…ƒç´ çš„å¸ƒå°”å€¼å‡ä¸ºçœŸï¼Œåˆ™è¿”å› `True`ã€‚
æ³¨æ„ï¼Œå¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸ºç©ºï¼Œä¹Ÿæ˜¯è¿”å› `True`ã€‚

### any

`any(iterable)`

å¦‚ä¸‹ä»£ç ä¸è¯¥å†…ç½®å‡½æ•°ç­‰æ•ˆï¼š

```python
def any(iterable):
    for element in iterable:
        if element:
            return True
    return False
```

å¦‚æœå¯è¿­ä»£(iterable)å¯¹è±¡ä¸­å­˜åœ¨å¸ƒå°”å€¼ä¸ºçœŸçš„å…ƒç´ ï¼Œåˆ™è¿”å› `True`ã€‚
æ³¨æ„ï¼Œå¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸ºç©ºï¼Œä¹Ÿæ˜¯è¿”å› `True`ã€‚

### ascii

`ascii(object)`

ç±»ä¼¼äºÂ [`repr()`](https://docs.python.org/3.7/library/functions.html#repr)ï¼Œè¯¥å‡½æ•°ä¹Ÿä¼šè¿”å›ä¸€ä¸ªç”¨äºæè¿° object çš„å­—ç¬¦ä¸²ã€‚ä¸Â [`repr()`](https://docs.python.org/3.7/library/functions.html#repr)  çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œ`ascii()` åœ¨è·å– `__repr__()` çš„è¿”å›å€¼ä¹‹åï¼Œä¼šä½¿ç”¨è½¬ä¹‰åºåˆ— (`\x`,Â `\u`Â ,Â `\U`) æ¥è¡¨ç¤ºå…¶ä¸­çš„é ASCII ç å­—ç¬¦ã€‚`ascii()` è¿”å›çš„å­—ç¬¦ä¸²ç±»ä¼¼äº Python 2 ä¸­çš„ `repr()` å‡½æ•°è¿”å›çš„å­—ç¬¦ä¸²ã€‚ 

```python
class Cls:
    def __repr__(self):
        # asciiä¸repréƒ½ä¼šä½¿ç”¨__repr__ï¼Œ
        # ä½†asciiä¼šè½¬ä¹‰å…¶ä¸­çš„éASCIIå­—ç¬¦
        return "è°ƒç”¨__repr__"

    def __str__(self):
        # asciiä¸ä½¿ç”¨__str__
        return "è°ƒç”¨__str__"


a_cls = Cls()
print("repr çš„è¿”å›å€¼:{0}".format(repr(a_cls)))
print("asciiçš„è¿”å›å€¼:{0}".format(ascii(a_cls)))
```

è¾“å‡º

```
repr çš„è¿”å›å€¼:è°ƒç”¨__repr__
asciiçš„è¿”å›å€¼:\u8c03\u7528__repr__
```

#### `ascii()` å¦‚ä½•è¡¨ç¤ºé ASCII ç å­—ç¬¦ï¼Ÿ

è¡¥å……ä¸€ç‚¹æœ‰å…³ Unicode çš„çŸ¥è¯†ï¼šæ¯ä¸ª Unicode å­—ç¬¦éƒ½æœ‰ä¸€ä¸ªæŒ‡å®šçš„ä»£ç ç‚¹(code point)ï¼Œåœ¨ Unicode å­—ç¬¦é›†ä¸­ä¸€èˆ¬è¡¨ç¤ºä¸º `U+XXXX` ï¼Œå…¶ä¸­ XXXX æ˜¯ç”± 4 ä¸ªæˆ–æ›´å¤šä¸ª16è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„åºåˆ—ã€‚åœ¨ Python 3 ä¸­ï¼š`\u` è½¬ä¹‰åºåˆ—ç”¨äºæ’å…¥ç ç‚¹èŒƒå›´åœ¨ `U+0000` ~ `U+FFFF` ä¹‹é—´çš„ Unicode å­—ç¬¦ã€‚`\U` è½¬ä¹‰åºåˆ—ç”¨äºæ’å…¥ç ç‚¹èŒƒå›´åœ¨ `U+10000` åŠä»¥ä¸Šçš„å­—ç¬¦ã€‚

`ascii()` ä¼šå°†é ASCII ç å­—ç¬¦åˆ’åˆ†ä¸ºä¸‰æ®µï¼Œåˆ†åˆ«ä½¿ç”¨ä¸åŒçš„è½¬ä¹‰åºåˆ—è¡¨ç¤ºï¼š

- `\xhh` è½¬ä¹‰åºåˆ—ç”¨äºè¡¨ç¤ºç ç‚¹èŒƒå›´åœ¨`U+007F` ~ `U+00FF` ä¹‹é—´çš„ Unicode å­—ç¬¦ã€‚
- `\uxxxx` è½¬ä¹‰åºåˆ—ç”¨äºè¡¨ç¤ºç ç‚¹èŒƒå›´åœ¨`U+0100` ~ `U+FFFF` ä¹‹é—´çš„ Unicode å­—ç¬¦ã€‚
- `\Uxxxxxxxx` è½¬ä¹‰åºåˆ—ç”¨äºè¡¨ç¤ºç ç‚¹èŒƒå›´åœ¨ `U+10000` åŠä»¥ä¸Šçš„å­—ç¬¦ã€‚

 `U+0000` ~ `U+007E` ä¹‹é—´çš„ Unicode å­—ç¬¦å¯¹åº”äº ASCII ç ï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¸ä¼šè¢« `ascii()` è½¬ä¹‰ã€‚

ç¤ºä¾‹ä»£ç ï¼š

```python
print(ascii('Âµ')) # U+007F ~ U+00FF
print(ascii('é²¸')) # U+0100 ~ U+FFFF 
print(ascii("ğŸ˜Š")) # U+10000
```

è¾“å‡º:

```
'\xb5'
'\u9cb8'
'\U0001f60a'
```

æœ€ååœ¨å¯¹æ¯”ä¸€ä¸‹ `repr()`ï¼š

```python
print(repr('Âµ'))
print(repr('é²¸'))
print(repr("ğŸ˜Š"))
```

è¾“å‡ºï¼š

```
'Âµ'
'é²¸'
'ğŸ˜Š'
```

## I

### iter

`iter(object[, sentinel])`

è¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª [iterator](https://docs.python.org/3.7/glossary.html#term-iterator) å¯¹è±¡ã€‚ç¬¬ä¸€ä¸ªå®å‚(argument)ä¼šå› ä¸ºç¬¬äºŒä¸ªå®å‚çš„ä¼ å…¥ï¼Œè€Œè·å¾—æˆªç„¶ä¸åŒçš„è§£é‡Šã€‚

åœ¨æ²¡æœ‰ä¼ å…¥ç¬¬äºŒä¸ªå®å‚çš„æƒ…å†µä¸‹ï¼Œobject å¿…é¡»æ˜¯ä¸€ä¸ªæ”¯æŒè¿­ä»£åè®®( [`__iter__()`](https://docs.python.org/3.7/reference/datamodel.html#object.__iter__) æ–¹æ³•)çš„é›†åˆ(collection)å¯¹è±¡ï¼›æˆ–è€… object å¿…é¡»æ”¯æŒåºåˆ—åè®® (the [`__getitem__()`](https://docs.python.org/3.7/reference/datamodel.html#object.__getitem__) method with integer arguments starting at `0`)ã€‚å¦‚æœè¿™ä¸¤ç§åè®®å‡ä¸è¢« object æ”¯æŒï¼Œ`iter()` ä¾¿ä¼šæŠ›å‡º [`TypeError`](https://docs.python.org/3.7/library/exceptions.html#TypeError)ã€‚Tipsï¼šè¿™é‡Œæåˆ°çš„é›†åˆå¯¹è±¡åªæ˜¯ä¸€ç§æŠ½è±¡æ¦‚å¿µï¼Œå¹¶éç‰¹æŒ‡ [`Callable`](https://docs.python.org/3.7/library/collections.abc.html#collections.abc.Callable) ç±»å‹ï¼Œä»…å®ç° [`__iter__()`](https://docs.python.org/3.7/reference/datamodel.html#object.__iter__) æ–¹æ³•å³å¯æ”¯æŒ `iter` å‡½æ•°ï¼›åŒæ ·çš„ï¼Œä»…å®ç° [`__getitem__()`](https://docs.python.org/3.7/reference/datamodel.html#object.__getitem__) æ–¹æ³•ä¹Ÿèƒ½æ”¯æŒ `iter` å‡½æ•°ã€‚

```python
class ObjcIter:
    def __iter__(self):
        cont = 0
        while cont < 3:
            cont += 1
            yield cont


a_iter1 = iter(ObjcIter())
print(list(a_iter1))


class ObjcGetitem:
    def __getitem__(self, item):
        cont = 0

        while cont <= item:
            cont += 1
            if cont >= 5:
                raise StopIteration()
        return cont


a_iter2 = iter(ObjcGetitem())
print(list(a_iter2))
```

è¾“å‡ºï¼š

```
[1, 2, 3]
[1, 2, 3, 4]
```



å¦‚æœä¼ å…¥äº†ç¬¬äºŒå‚æ•° sentinelï¼Œæ­¤æ—¶ object å¿…é¡»æ˜¯ä¸€ä¸ªå¯è°ƒç”¨(callable)å¯¹è±¡ã€‚å¯¹äºåœ¨è¿™ç§æƒ…å†µä¸‹åˆ›å»ºçš„è¿­ä»£å™¨ï¼Œæ¯å½“è°ƒç”¨å…¶ [`__next__()`](https://docs.python.org/3.7/library/stdtypes.html#iterator.__next__) æ–¹æ³•æ—¶ï¼Œä¾¿ä¼šä»¥æ— å‚æ•°å½¢å¼è°ƒç”¨ objectã€‚å¦‚æœ object çš„è¿”å›å€¼ç­‰äº sentinelï¼Œä¾¿ä¼šæŠ›å‡º [`StopIteration`](https://docs.python.org/3.7/library/exceptions.html#StopIteration) ï¼›å¦‚æœè¿”å›å€¼ä¸ç­‰äº sentinelï¼Œåˆ™ç›´æ¥è¿”å›è¯¥å€¼ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ï¼š

```python
class AutoIncrement(object):
    """æ¯æ¬¡è°ƒç”¨è¯¥ç±»çš„å®ä¾‹ï¼Œè®¡æ•°å™¨ä¾¿ä¼šè‡ªåŠ¨åŠ 1"""

    def __init__(self):
        self._count = 0

    def __call__(self):
        self._count += 1
        return self._count


a_iter = AutoIncrement()
for i in iter(a_iter, 3):
    # å½“a_iter()è¿”å›5æ—¶ï¼Œä¾¿ä¼šæŠ›å‡ºStopIteration
    # åœæ­¢è¿­ä»£
    print(i, end=',')
```

è¾“å‡ºï¼š

```
1,2,
```

è¿˜å¯å‚è€ƒï¼š[Iterator Types](https://docs.python.org/3.7/library/stdtypes.html#typeiter).

[`iter()`](https://docs.python.org/3.7/library/functions.html#iter) çš„ç¬¬äºŒç§ä½¿ç”¨å½¢å¼çš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯æ˜¯ï¼šå¯ä»¥ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶ä¸­çš„å¤šä¸ªè¡Œï¼Œå¹¶åœ¨æŸä¸ªç‰¹å®šè¡Œåœæ­¢è¯»å–ã€‚ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ä¼šæŒç»­è¯»å–ä¸€ä¸ªæ–‡ä»¶ï¼Œç›´åˆ° [`readline()`](https://docs.python.org/3.7/library/io.html#io.TextIOBase.readline) æ–¹æ³•è¿”å›ç©ºå­—ç¬¦ä¸²ä¸ºæ­¢ã€‚

```python
with open('mydata.txt') as fp:
    for line in iter(fp.readline, ''):
        process_line(line)
```

## n

### next

`next(iterator[, default])`

é€šè¿‡è°ƒç”¨ iterator çš„ [`__next__()`](https://docs.python.org/3.7/library/stdtypes.html#iterator.__next__) æ–¹æ³•æ¥æ£€ç´¢è¿­ä»£å™¨ä¸­çš„ä¸‹ä¸€é¡¹ã€‚åœ¨ç»™å®š default çš„æƒ…å†µä¸‹ï¼Œå½“è¿­ä»£å™¨è€—å°½æ—¶ä¾¿ä¼šè¿”å› defaultï¼›å¦‚æœæ²¡æœ‰ç»™å®š defaultï¼Œåˆ™ä¼šæŠ›å‡º [`StopIteration`](https://docs.python.org/3.7/library/exceptions.html#StopIteration)ã€‚









